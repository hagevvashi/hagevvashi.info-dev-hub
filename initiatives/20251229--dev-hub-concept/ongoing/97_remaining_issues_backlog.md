# 積み残し課題一覧 (Remaining Issues Backlog)

このファイルは、v10 以降の実装で発見された既知の問題や制限事項、将来的に対応が必要な課題を記録します。

## 日付: 2026-01-10

### 1. process-compose の TUI エラー (既知の制限事項)

**現象:**
```
26-01-10 09:27:11.325 FTL TUI startup error error="open /dev/tty: no such device or address"
```

**原因:**
- process-compose は起動時に TUI (Terminal User Interface) モードで起動しようとする
- s6-overlay のサービスとして実行されているため、`/dev/tty` デバイスが存在しない
- s6-overlay の longrun サービスはデタッチされたコンテキストで実行されるため、TTY にアクセスできない

**影響:**
- **機能への影響なし**: process-compose 自体は正常に起動しており、プロセス管理機能は正常に動作している
- TUI が利用できないだけで、プロセスの管理・監視は行われている
- ログ出力や設定ファイル経由での管理は問題なく機能

**現在のステータス:**
- 無視可能な警告として扱う
- 機能的な問題は発生していない

**将来的な対応オプション (必要に応じて):**

1. **オプション1: TUI を完全に無効化**
   - process-compose に `--no-tui` または類似のフラグがあれば指定
   - メリット: エラーメッセージが出力されなくなる
   - デメリット: 現時点で process-compose のフラグ調査が必要

2. **オプション2: ヘッドレスモードでの起動**
   - process-compose の設定ファイルで TUI を無効化するオプションがあれば利用
   - メリット: より明示的な制御
   - デメリット: 設定ファイルの調査・修正が必要

3. **オプション3: 現状維持**
   - エラーメッセージは出力されるが、機能には影響なし
   - メリット: 追加作業不要
   - デメリット: ログに FTL (Fatal) レベルのメッセージが残る

**推奨アクション:**
現時点では**オプション3 (現状維持)**を推奨。機能的な問題が発生していないため、優先度は低い。

**関連ファイル:**
- [.devcontainer/s6-rc.d/process-compose/run](.devcontainer/s6-rc.d/process-compose/run)
- [workloads/process-compose/project.yaml](workloads/process-compose/project.yaml)

**参考資料:**
- process-compose 公式ドキュメント: TUI モードと非 TUI モードの使い分け
- s6-overlay ドキュメント: longrun サービスのコンテキストと TTY アクセス制限

---

## 課題追加テンプレート

新しい課題を追加する際は、以下のテンプレートを使用してください:

```markdown
### N. [課題名]

**現象:**
[エラーメッセージや問題の説明]

**原因:**
[根本原因の分析]

**影響:**
[システムや機能への影響範囲]

**現在のステータス:**
[現在の対応状況]

**将来的な対応オプション:**
1. **オプション1: [対応策名]**
   - メリット:
   - デメリット:

**推奨アクション:**
[推奨される対応方針]

**関連ファイル:**
- [ファイル名](相対パス)

**参考資料:**
- [リンクや文書名]
```

---

## 履歴

- 2026-01-10: ファイル作成、process-compose TUI エラーを記録
